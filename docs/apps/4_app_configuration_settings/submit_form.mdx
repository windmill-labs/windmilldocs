import DocCard from '@site/src/components/DocCard';

# Submit Form

The submit form component allows you to create a submit form linked to a runnable. It has a submit button that triggers a runnable when clicked.

The runnable [parameters](../../code_editor/parameter_inference.mdx) are defined:

- **Static**: the parameter is defined in the component configuration.
- **User input**: the parameter is defined by the user input.
- **Eval**: the parameter is [connected to an output](../2_connecting_components/index.mdx).

Only user inputs are displayed in the form.

<video
	className="border-2 rounded-lg object-cover w-full h-full dark:border-gray-800"
	controls
	src="/videos/submit_form.mp4"
/>

<br />

The following section details Submit Form component's specific settings. For more details on the App Editor, check the [dedicated documentation](../0_app_editor/index.mdx) or the App Editor [Quickstart](../../getting_started/7_apps_quickstart/index.mdx):

<div className="grid grid-cols-2 gap-6 mb-4">
	<DocCard
		color="orange"
		title="App Editor Documentation"
		description="The app editor is a low-code builder to create custom User Interfaces with a mix of drag-and-drop and code."
		href="/docs/apps/app_editor"
	/>
	<DocCard
		color="orange"
		title="Apps Quickstart"
		description="Learn how to build your first app in a matter of minutes."
		href="/docs/getting_started/apps_quickstart"
	/>
</div>

## Controls

This component can be controlled by [frontend scripts](../3_app-runnable-panel.mdx#frontend-scripts) using these functions:

**setValue**

The [setValue](../3_app-runnable-panel.mdx#setvalue) function is meant to set or force the value of a component. This can be convenient in cases where connection is not the easiest pattern. Note that it's a bad idea to mix dynamic default value and setValue together.

`setValue(id: string, value: any)`

**validate**

Make a specific field of a form in a Validate state.

`validate(id: string, key: string)`

**validateAll**

Make all fields of a form in a Validate state.

`validateAll(id: string, key: string)`

**invalidate**

Invalidate a specific field of a form

`invalidate(id: string, key: string, error: string)`

<div className="grid grid-cols-2 gap-6 mb-4">
	<DocCard
		color="orange"
		title="Runnable Editor"
		description="Learn how to create and configure Apps runnables."
		href="/docs/apps/app-runnable-panel"
	/>
</div>

## Form configuration

| Name  |                Type                 | Connectable | Templatable | Default | Description       |
| ----- | :---------------------------------: | :---------: | :---------: | :-----: | ----------------- |
| label |               string                |    true     |    false    | Submit  | The button label. |
| color | blue, red, dark, light, green, gray |    true     |    false    |  dark   | The button color. |
| size  |         xs, sm, md , lg, xl         |    true     |    false    |   sm    | The button size.  |

The form component has a special parameters called `On Success` and `On Error`.

The options for On Success are:

- Do nothing
- Go to an url
- Set the tab of a [tabs component](./tabs.mdx)
- Display a toast notification
- Open a [modal](./modal.mdx) or a [drawer](./drawer.mdx)
- Close a [modal](./modal.mdx) or a [drawer](./drawer.mdx)

The options for On Error are:

- Show error overlay
- Go to an url
- Set the tab of a [tabs component](./tabs.mdx)
- Display a toast notification
- Open a [modal](./modal.mdx) or a [drawer](./drawer.mdx)
- Close a [modal](./modal.mdx) or a [drawer](./drawer.mdx)

## Outputs

| Name    |  Type   | Description                      |
| ------- | :-----: | -------------------------------- |
| result  |   any   | The result of the runnable.      |
| loading | boolean | The loading state of the button. |
| jobId   | string  | The job id of the runnable.      |

## Event handler

The submit form component has the following event handler:

- `onSuccess`: Trigger one or more runnables when the button is clicked and the runnable is successful.
